/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/folders/route";
exports.ids = ["app/api/folders/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ffolders%2Froute&page=%2Fapi%2Ffolders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ffolders%2Froute.js&appDir=E%3A%5Cweb%5CDS-360%20Products%5Cdatabase-management-system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cweb%5CDS-360%20Products%5Cdatabase-management-system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ffolders%2Froute&page=%2Fapi%2Ffolders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ffolders%2Froute.js&appDir=E%3A%5Cweb%5CDS-360%20Products%5Cdatabase-management-system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cweb%5CDS-360%20Products%5Cdatabase-management-system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_web_DS_360_Products_database_management_system_src_app_api_folders_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/folders/route.js */ \"(rsc)/./src/app/api/folders/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/folders/route\",\n        pathname: \"/api/folders\",\n        filename: \"route\",\n        bundlePath: \"app/api/folders/route\"\n    },\n    resolvedPagePath: \"E:\\\\web\\\\DS-360 Products\\\\database-management-system\\\\src\\\\app\\\\api\\\\folders\\\\route.js\",\n    nextConfigOutput,\n    userland: E_web_DS_360_Products_database_management_system_src_app_api_folders_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZmb2xkZXJzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZmb2xkZXJzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGZm9sZGVycyUyRnJvdXRlLmpzJmFwcERpcj1FJTNBJTVDd2ViJTVDRFMtMzYwJTIwUHJvZHVjdHMlNUNkYXRhYmFzZS1tYW5hZ2VtZW50LXN5c3RlbSU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RSUzQSU1Q3dlYiU1Q0RTLTM2MCUyMFByb2R1Y3RzJTVDZGF0YWJhc2UtbWFuYWdlbWVudC1zeXN0ZW0maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ3NDO0FBQ25IO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJFOlxcXFx3ZWJcXFxcRFMtMzYwIFByb2R1Y3RzXFxcXGRhdGFiYXNlLW1hbmFnZW1lbnQtc3lzdGVtXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGZvbGRlcnNcXFxccm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2ZvbGRlcnMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9mb2xkZXJzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9mb2xkZXJzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRTpcXFxcd2ViXFxcXERTLTM2MCBQcm9kdWN0c1xcXFxkYXRhYmFzZS1tYW5hZ2VtZW50LXN5c3RlbVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxmb2xkZXJzXFxcXHJvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ffolders%2Froute&page=%2Fapi%2Ffolders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ffolders%2Froute.js&appDir=E%3A%5Cweb%5CDS-360%20Products%5Cdatabase-management-system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cweb%5CDS-360%20Products%5Cdatabase-management-system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/folders/route.js":
/*!**************************************!*\
  !*** ./src/app/api/folders/route.js ***!
  \**************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_auth_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/auth.js */ \"(rsc)/./src/lib/auth.js\");\n\n\n// Inline database connection\nlet connection = {};\nasync function connectDB() {\n    if (connection.isConnected) {\n        return;\n    }\n    try {\n        const db = await mongoose__WEBPACK_IMPORTED_MODULE_0__.connect(process.env.MONGODB_URI);\n        connection.isConnected = db.connections[0].readyState;\n        console.log(\"MongoDB connected successfully\");\n    } catch (error) {\n        console.error(\"MongoDB connection error:\", error);\n        throw error;\n    }\n}\n// Inline Folder model\nconst folderSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    name: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    parentId: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: \"Folder\",\n        default: null\n    },\n    path: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    level: {\n        type: Number,\n        required: true,\n        default: 0\n    },\n    permissions: [\n        {\n            userId: {\n                type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n                ref: \"User\",\n                required: true\n            },\n            userName: {\n                type: String,\n                required: true\n            },\n            userEmail: {\n                type: String,\n                required: true\n            },\n            grantedAt: {\n                type: Date,\n                default: Date.now\n            }\n        }\n    ]\n}, {\n    timestamps: true\n});\nfolderSchema.index({\n    parentId: 1\n});\nfolderSchema.index({\n    level: 1\n});\nconst Folder = mongoose__WEBPACK_IMPORTED_MODULE_0__.models.Folder || mongoose__WEBPACK_IMPORTED_MODULE_0__.model(\"Folder\", folderSchema);\n// Inline Document model\nconst documentSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    name: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    originalName: {\n        type: String,\n        required: true\n    },\n    mimeType: {\n        type: String,\n        required: true\n    },\n    size: {\n        type: Number,\n        required: true\n    },\n    folderId: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: \"Folder\",\n        required: true\n    },\n    googleDriveId: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    googleDriveUrl: {\n        type: String,\n        required: true\n    },\n    content: {\n        type: String,\n        default: \"\"\n    },\n    tags: [\n        {\n            type: String,\n            trim: true\n        }\n    ]\n}, {\n    timestamps: true\n});\ndocumentSchema.index({\n    folderId: 1\n});\ndocumentSchema.index({\n    tags: 1\n});\ndocumentSchema.index({\n    createdAt: -1\n});\ndocumentSchema.index({\n    name: \"text\",\n    originalName: \"text\",\n    content: \"text\",\n    tags: \"text\"\n});\nconst Document = mongoose__WEBPACK_IMPORTED_MODULE_0__.models.Document || mongoose__WEBPACK_IMPORTED_MODULE_0__.model(\"Document\", documentSchema);\n// Import auth utilities\n\nasync function GET(request) {\n    try {\n        await connectDB();\n        // Check authentication\n        const token = request.cookies.get(\"token\")?.value;\n        let user = await (0,_lib_auth_js__WEBPACK_IMPORTED_MODULE_2__.verifyToken)(token);\n        if (!user) {\n            // For development mode, create a demo user if no auth\n            if (true) {\n                console.log(\"No auth in development mode, using demo user\");\n                user = {\n                    userId: \"demo-user-id\",\n                    email: \"demo@dms360.com\",\n                    role: \"admin\"\n                };\n            } else {}\n        }\n        const { searchParams } = new URL(request.url);\n        const parentId = searchParams.get(\"parentId\");\n        // If parentId is specified, return only children of that parent\n        // Otherwise, return ALL folders to build the complete tree\n        let query = parentId ? {\n            parentId\n        } : {};\n        // If user is not admin, filter by permissions\n        if (user.role !== \"admin\") {\n            // Get folders where user has permission or is the creator\n            query = {\n                ...query,\n                $or: [\n                    {\n                        \"permissions.userId\": user.userId || user._id\n                    },\n                    {\n                        createdBy: user.userId || user._id\n                    }\n                ]\n            };\n        }\n        console.log(\"API: User:\", user);\n        console.log(\"API: Query:\", query);\n        const folders = await Folder.find(query).lean();\n        console.log(\"API: Found folders:\", folders.map((f)=>({\n                name: f.name,\n                _id: f._id,\n                parentId: f.parentId,\n                level: f.level,\n                permissions: f.permissions?.length || 0\n            })));\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            success: true,\n            data: folders\n        });\n    } catch (error) {\n        console.error(\"Get folders error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            success: false,\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        await connectDB();\n        const { name, parentId } = await request.json();\n        if (!name) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                success: false,\n                error: \"Folder name is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Sanitize folder name\n        const sanitizedName = name.trim().replace(/[\\/\\\\]/g, \"-\");\n        if (!sanitizedName) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                success: false,\n                error: \"Folder name cannot be empty after sanitization\"\n            }, {\n                status: 400\n            });\n        }\n        // Build path\n        let path = sanitizedName;\n        let level = 0;\n        if (parentId) {\n            try {\n                const parentFolder = await Folder.findById(parentId);\n                if (!parentFolder) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                        success: false,\n                        error: \"Parent folder not found\"\n                    }, {\n                        status: 404\n                    });\n                }\n                // Prevent infinite loops by checking if the sanitized name already exists in the path\n                if (parentFolder.path.includes(sanitizedName)) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                        success: false,\n                        error: \"Folder name would create a circular reference\"\n                    }, {\n                        status: 400\n                    });\n                }\n                path = `${parentFolder.path}/${sanitizedName}`;\n                level = parentFolder.level + 1;\n                // Additional safety check: prevent extremely deep nesting\n                if (level > 50) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                        success: false,\n                        error: \"Folder nesting level too deep\"\n                    }, {\n                        status: 400\n                    });\n                }\n            } catch (error) {\n                console.error(\"Error finding parent folder:\", error);\n                return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                    success: false,\n                    error: \"Invalid parent folder ID\"\n                }, {\n                    status: 400\n                });\n            }\n        }\n        // Check if folder already exists\n        try {\n            const existingFolder = await Folder.findOne({\n                path\n            });\n            if (existingFolder) {\n                return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                    success: false,\n                    error: \"Folder already exists\"\n                }, {\n                    status: 409\n                });\n            }\n            // Additional safety check: prevent path length issues\n            if (path.length > 500) {\n                return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                    success: false,\n                    error: \"Folder path too long\"\n                }, {\n                    status: 400\n                });\n            }\n            // Check for any potential circular references in the entire path\n            const pathSegments = path.split(\"/\");\n            const uniqueSegments = new Set(pathSegments);\n            if (pathSegments.length !== uniqueSegments.size) {\n                return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                    success: false,\n                    error: \"Folder path contains duplicate segments\"\n                }, {\n                    status: 400\n                });\n            }\n        } catch (error) {\n            console.error(\"Error checking existing folder:\", error);\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                success: false,\n                error: \"Error checking folder existence\"\n            }, {\n                status: 500\n            });\n        }\n        // Create the folder\n        try {\n            const folder = new Folder({\n                name: sanitizedName,\n                parentId: parentId || null,\n                path,\n                level\n            });\n            await folder.save();\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                success: true,\n                data: folder\n            }, {\n                status: 201\n            });\n        } catch (error) {\n            console.error(\"Error saving folder:\", error);\n            if (error.code === 11000) {\n                return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                    success: false,\n                    error: \"Folder already exists\"\n                }, {\n                    status: 409\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                success: false,\n                error: \"Failed to create folder\"\n            }, {\n                status: 500\n            });\n        }\n    } catch (error) {\n        console.error(\"Create folder error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            success: false,\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request) {\n    try {\n        await connectDB();\n        const { searchParams } = new URL(request.url);\n        const folderId = searchParams.get(\"folderId\");\n        if (!folderId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                success: false,\n                error: \"Folder ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Check if folder exists\n        const folder = await Folder.findById(folderId);\n        if (!folder) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                success: false,\n                error: \"Folder not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Check if folder has child folders\n        const childFolders = await Folder.find({\n            parentId: folderId\n        });\n        if (childFolders.length > 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                success: false,\n                error: \"Cannot delete folder that contains subfolders. Please delete subfolders first.\"\n            }, {\n                status: 400\n            });\n        }\n        // Check if folder has documents\n        const documents = await Document.find({\n            folderId: folderId\n        });\n        if (documents.length > 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                success: false,\n                error: \"Cannot delete folder that contains documents. Please delete or move documents first.\"\n            }, {\n                status: 400\n            });\n        }\n        // Delete the folder\n        await Folder.findByIdAndDelete(folderId);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            success: true,\n            message: \"Folder deleted successfully\"\n        });\n    } catch (error) {\n        console.error(\"Delete folder error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            success: false,\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QjtnQkFDRUMsU0FBUztnQkFDVG5ELE9BQ0U7WUFDSixHQUNBO2dCQUFFb0QsUUFBUTtZQUFJO1FBRWxCO1FBRUEsZ0NBQWdDO1FBQ2hDLE1BQU1nQyxZQUFZLE1BQU03QyxTQUFTc0IsSUFBSSxDQUFDO1lBQUU1QixVQUFVQTtRQUFTO1FBQzNELElBQUltRCxVQUFVbkIsTUFBTSxHQUFHLEdBQUc7WUFDeEIsT0FBTzlFLHFEQUFZQSxDQUFDK0QsSUFBSSxDQUN0QjtnQkFDRUMsU0FBUztnQkFDVG5ELE9BQ0U7WUFDSixHQUNBO2dCQUFFb0QsUUFBUTtZQUFJO1FBRWxCO1FBRUEsb0JBQW9CO1FBQ3BCLE1BQU0xQixPQUFPMkQsaUJBQWlCLENBQUNwRDtRQUUvQixPQUFPOUMscURBQVlBLENBQUMrRCxJQUFJLENBQUM7WUFDdkJDLFNBQVM7WUFDVG1DLFNBQVM7UUFDWDtJQUNGLEVBQUUsT0FBT3RGLE9BQU87UUFDZEYsUUFBUUUsS0FBSyxDQUFDLHdCQUF3QkE7UUFDdEMsT0FBT2IscURBQVlBLENBQUMrRCxJQUFJLENBQ3RCO1lBQUVDLFNBQVM7WUFBT25ELE9BQU87UUFBd0IsR0FDakQ7WUFBRW9ELFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJFOlxcd2ViXFxEUy0zNjAgUHJvZHVjdHNcXGRhdGFiYXNlLW1hbmFnZW1lbnQtc3lzdGVtXFxzcmNcXGFwcFxcYXBpXFxmb2xkZXJzXFxyb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcblxuLy8gSW5saW5lIGRhdGFiYXNlIGNvbm5lY3Rpb25cbmxldCBjb25uZWN0aW9uID0ge307XG5cbmFzeW5jIGZ1bmN0aW9uIGNvbm5lY3REQigpIHtcbiAgaWYgKGNvbm5lY3Rpb24uaXNDb25uZWN0ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGRiID0gYXdhaXQgbW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT0RCX1VSSSk7XG4gICAgY29ubmVjdGlvbi5pc0Nvbm5lY3RlZCA9IGRiLmNvbm5lY3Rpb25zWzBdLnJlYWR5U3RhdGU7XG4gICAgY29uc29sZS5sb2coXCJNb25nb0RCIGNvbm5lY3RlZCBzdWNjZXNzZnVsbHlcIik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIk1vbmdvREIgY29ubmVjdGlvbiBlcnJvcjpcIiwgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8vIElubGluZSBGb2xkZXIgbW9kZWxcbmNvbnN0IGZvbGRlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXG4gIHtcbiAgICBuYW1lOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIHRyaW06IHRydWUsXG4gICAgfSxcbiAgICBwYXJlbnRJZDoge1xuICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgICAgcmVmOiBcIkZvbGRlclwiLFxuICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICB9LFxuICAgIHBhdGg6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgdW5pcXVlOiB0cnVlLFxuICAgIH0sXG4gICAgbGV2ZWw6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgZGVmYXVsdDogMCxcbiAgICB9LFxuICAgIHBlcm1pc3Npb25zOiBbXG4gICAgICB7XG4gICAgICAgIHVzZXJJZDoge1xuICAgICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICAgICAgICByZWY6IFwiVXNlclwiLFxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICB1c2VyTmFtZToge1xuICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgdXNlckVtYWlsOiB7XG4gICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBncmFudGVkQXQ6IHtcbiAgICAgICAgICB0eXBlOiBEYXRlLFxuICAgICAgICAgIGRlZmF1bHQ6IERhdGUubm93LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgfVxuKTtcblxuZm9sZGVyU2NoZW1hLmluZGV4KHsgcGFyZW50SWQ6IDEgfSk7XG5mb2xkZXJTY2hlbWEuaW5kZXgoeyBsZXZlbDogMSB9KTtcblxuY29uc3QgRm9sZGVyID0gbW9uZ29vc2UubW9kZWxzLkZvbGRlciB8fCBtb25nb29zZS5tb2RlbChcIkZvbGRlclwiLCBmb2xkZXJTY2hlbWEpO1xuXG4vLyBJbmxpbmUgRG9jdW1lbnQgbW9kZWxcbmNvbnN0IGRvY3VtZW50U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIG5hbWU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICB9LFxuICAgIG9yaWdpbmFsTmFtZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgICBtaW1lVHlwZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgICBzaXplOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIGZvbGRlcklkOiB7XG4gICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICByZWY6IFwiRm9sZGVyXCIsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIGdvb2dsZURyaXZlSWQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgdW5pcXVlOiB0cnVlLFxuICAgIH0sXG4gICAgZ29vZ2xlRHJpdmVVcmw6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgY29udGVudDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogXCJcIixcbiAgICB9LFxuICAgIHRhZ3M6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB0cmltOiB0cnVlLFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgfVxuKTtcblxuZG9jdW1lbnRTY2hlbWEuaW5kZXgoeyBmb2xkZXJJZDogMSB9KTtcbmRvY3VtZW50U2NoZW1hLmluZGV4KHsgdGFnczogMSB9KTtcbmRvY3VtZW50U2NoZW1hLmluZGV4KHsgY3JlYXRlZEF0OiAtMSB9KTtcbmRvY3VtZW50U2NoZW1hLmluZGV4KHtcbiAgbmFtZTogXCJ0ZXh0XCIsXG4gIG9yaWdpbmFsTmFtZTogXCJ0ZXh0XCIsXG4gIGNvbnRlbnQ6IFwidGV4dFwiLFxuICB0YWdzOiBcInRleHRcIixcbn0pO1xuXG5jb25zdCBEb2N1bWVudCA9XG4gIG1vbmdvb3NlLm1vZGVscy5Eb2N1bWVudCB8fCBtb25nb29zZS5tb2RlbChcIkRvY3VtZW50XCIsIGRvY3VtZW50U2NoZW1hKTtcblxuLy8gSW1wb3J0IGF1dGggdXRpbGl0aWVzXG5pbXBvcnQgeyB2ZXJpZnlUb2tlbiB9IGZyb20gXCIuLi8uLi8uLi9saWIvYXV0aC5qc1wiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBjb25uZWN0REIoKTtcblxuICAgIC8vIENoZWNrIGF1dGhlbnRpY2F0aW9uXG4gICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KFwidG9rZW5cIik/LnZhbHVlO1xuICAgIGxldCB1c2VyID0gYXdhaXQgdmVyaWZ5VG9rZW4odG9rZW4pO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICAvLyBGb3IgZGV2ZWxvcG1lbnQgbW9kZSwgY3JlYXRlIGEgZGVtbyB1c2VyIGlmIG5vIGF1dGhcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTm8gYXV0aCBpbiBkZXZlbG9wbWVudCBtb2RlLCB1c2luZyBkZW1vIHVzZXJcIik7XG4gICAgICAgIHVzZXIgPSB7XG4gICAgICAgICAgdXNlcklkOiBcImRlbW8tdXNlci1pZFwiLFxuICAgICAgICAgIGVtYWlsOiBcImRlbW9AZG1zMzYwLmNvbVwiLFxuICAgICAgICAgIHJvbGU6IFwiYWRtaW5cIixcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBjb25zdCBwYXJlbnRJZCA9IHNlYXJjaFBhcmFtcy5nZXQoXCJwYXJlbnRJZFwiKTtcblxuICAgIC8vIElmIHBhcmVudElkIGlzIHNwZWNpZmllZCwgcmV0dXJuIG9ubHkgY2hpbGRyZW4gb2YgdGhhdCBwYXJlbnRcbiAgICAvLyBPdGhlcndpc2UsIHJldHVybiBBTEwgZm9sZGVycyB0byBidWlsZCB0aGUgY29tcGxldGUgdHJlZVxuICAgIGxldCBxdWVyeSA9IHBhcmVudElkID8geyBwYXJlbnRJZCB9IDoge307XG5cbiAgICAvLyBJZiB1c2VyIGlzIG5vdCBhZG1pbiwgZmlsdGVyIGJ5IHBlcm1pc3Npb25zXG4gICAgaWYgKHVzZXIucm9sZSAhPT0gXCJhZG1pblwiKSB7XG4gICAgICAvLyBHZXQgZm9sZGVycyB3aGVyZSB1c2VyIGhhcyBwZXJtaXNzaW9uIG9yIGlzIHRoZSBjcmVhdG9yXG4gICAgICBxdWVyeSA9IHtcbiAgICAgICAgLi4ucXVlcnksXG4gICAgICAgICRvcjogW1xuICAgICAgICAgIHsgXCJwZXJtaXNzaW9ucy51c2VySWRcIjogdXNlci51c2VySWQgfHwgdXNlci5faWQgfSxcbiAgICAgICAgICB7IGNyZWF0ZWRCeTogdXNlci51c2VySWQgfHwgdXNlci5faWQgfSwgLy8gSWYgZm9sZGVyIGhhcyBjcmVhdG9yIGZpZWxkXG4gICAgICAgIF0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKFwiQVBJOiBVc2VyOlwiLCB1c2VyKTtcbiAgICBjb25zb2xlLmxvZyhcIkFQSTogUXVlcnk6XCIsIHF1ZXJ5KTtcblxuICAgIGNvbnN0IGZvbGRlcnMgPSBhd2FpdCBGb2xkZXIuZmluZChxdWVyeSkubGVhbigpO1xuXG4gICAgY29uc29sZS5sb2coXG4gICAgICBcIkFQSTogRm91bmQgZm9sZGVyczpcIixcbiAgICAgIGZvbGRlcnMubWFwKChmKSA9PiAoe1xuICAgICAgICBuYW1lOiBmLm5hbWUsXG4gICAgICAgIF9pZDogZi5faWQsXG4gICAgICAgIHBhcmVudElkOiBmLnBhcmVudElkLFxuICAgICAgICBsZXZlbDogZi5sZXZlbCxcbiAgICAgICAgcGVybWlzc2lvbnM6IGYucGVybWlzc2lvbnM/Lmxlbmd0aCB8fCAwLFxuICAgICAgfSkpXG4gICAgKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogZm9sZGVycyxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiR2V0IGZvbGRlcnMgZXJyb3I6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgY29ubmVjdERCKCk7XG5cbiAgICBjb25zdCB7IG5hbWUsIHBhcmVudElkIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcblxuICAgIGlmICghbmFtZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGb2xkZXIgbmFtZSBpcyByZXF1aXJlZFwiIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBTYW5pdGl6ZSBmb2xkZXIgbmFtZVxuICAgIGNvbnN0IHNhbml0aXplZE5hbWUgPSBuYW1lLnRyaW0oKS5yZXBsYWNlKC9bXFwvXFxcXF0vZywgXCItXCIpO1xuXG4gICAgaWYgKCFzYW5pdGl6ZWROYW1lKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogXCJGb2xkZXIgbmFtZSBjYW5ub3QgYmUgZW1wdHkgYWZ0ZXIgc2FuaXRpemF0aW9uXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBCdWlsZCBwYXRoXG4gICAgbGV0IHBhdGggPSBzYW5pdGl6ZWROYW1lO1xuICAgIGxldCBsZXZlbCA9IDA7XG5cbiAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcmVudEZvbGRlciA9IGF3YWl0IEZvbGRlci5maW5kQnlJZChwYXJlbnRJZCk7XG4gICAgICAgIGlmICghcGFyZW50Rm9sZGVyKSB7XG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGFyZW50IGZvbGRlciBub3QgZm91bmRcIiB9LFxuICAgICAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcHMgYnkgY2hlY2tpbmcgaWYgdGhlIHNhbml0aXplZCBuYW1lIGFscmVhZHkgZXhpc3RzIGluIHRoZSBwYXRoXG4gICAgICAgIGlmIChwYXJlbnRGb2xkZXIucGF0aC5pbmNsdWRlcyhzYW5pdGl6ZWROYW1lKSkge1xuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgIGVycm9yOiBcIkZvbGRlciBuYW1lIHdvdWxkIGNyZWF0ZSBhIGNpcmN1bGFyIHJlZmVyZW5jZVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXRoID0gYCR7cGFyZW50Rm9sZGVyLnBhdGh9LyR7c2FuaXRpemVkTmFtZX1gO1xuICAgICAgICBsZXZlbCA9IHBhcmVudEZvbGRlci5sZXZlbCArIDE7XG5cbiAgICAgICAgLy8gQWRkaXRpb25hbCBzYWZldHkgY2hlY2s6IHByZXZlbnQgZXh0cmVtZWx5IGRlZXAgbmVzdGluZ1xuICAgICAgICBpZiAobGV2ZWwgPiA1MCkge1xuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkZvbGRlciBuZXN0aW5nIGxldmVsIHRvbyBkZWVwXCIgfSxcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmaW5kaW5nIHBhcmVudCBmb2xkZXI6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkludmFsaWQgcGFyZW50IGZvbGRlciBJRFwiIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgZm9sZGVyIGFscmVhZHkgZXhpc3RzXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nRm9sZGVyID0gYXdhaXQgRm9sZGVyLmZpbmRPbmUoeyBwYXRoIH0pO1xuICAgICAgaWYgKGV4aXN0aW5nRm9sZGVyKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGb2xkZXIgYWxyZWFkeSBleGlzdHNcIiB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDkgfVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGRpdGlvbmFsIHNhZmV0eSBjaGVjazogcHJldmVudCBwYXRoIGxlbmd0aCBpc3N1ZXNcbiAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDUwMCkge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRm9sZGVyIHBhdGggdG9vIGxvbmdcIiB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBmb3IgYW55IHBvdGVudGlhbCBjaXJjdWxhciByZWZlcmVuY2VzIGluIHRoZSBlbnRpcmUgcGF0aFxuICAgICAgY29uc3QgcGF0aFNlZ21lbnRzID0gcGF0aC5zcGxpdChcIi9cIik7XG4gICAgICBjb25zdCB1bmlxdWVTZWdtZW50cyA9IG5ldyBTZXQocGF0aFNlZ21lbnRzKTtcbiAgICAgIGlmIChwYXRoU2VnbWVudHMubGVuZ3RoICE9PSB1bmlxdWVTZWdtZW50cy5zaXplKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGb2xkZXIgcGF0aCBjb250YWlucyBkdXBsaWNhdGUgc2VnbWVudHNcIiB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2hlY2tpbmcgZXhpc3RpbmcgZm9sZGVyOlwiLCBlcnJvcik7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkVycm9yIGNoZWNraW5nIGZvbGRlciBleGlzdGVuY2VcIiB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHRoZSBmb2xkZXJcbiAgICB0cnkge1xuICAgICAgY29uc3QgZm9sZGVyID0gbmV3IEZvbGRlcih7XG4gICAgICAgIG5hbWU6IHNhbml0aXplZE5hbWUsXG4gICAgICAgIHBhcmVudElkOiBwYXJlbnRJZCB8fCBudWxsLFxuICAgICAgICBwYXRoLFxuICAgICAgICBsZXZlbCxcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBmb2xkZXIuc2F2ZSgpO1xuXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGRhdGE6IGZvbGRlcixcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDIwMSB9XG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZvbGRlcjpcIiwgZXJyb3IpO1xuICAgICAgaWYgKGVycm9yLmNvZGUgPT09IDExMDAwKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGb2xkZXIgYWxyZWFkeSBleGlzdHNcIiB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDkgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gY3JlYXRlIGZvbGRlclwiIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkNyZWF0ZSBmb2xkZXIgZXJyb3I6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBjb25uZWN0REIoKTtcblxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBjb25zdCBmb2xkZXJJZCA9IHNlYXJjaFBhcmFtcy5nZXQoXCJmb2xkZXJJZFwiKTtcblxuICAgIGlmICghZm9sZGVySWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRm9sZGVyIElEIGlzIHJlcXVpcmVkXCIgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGZvbGRlciBleGlzdHNcbiAgICBjb25zdCBmb2xkZXIgPSBhd2FpdCBGb2xkZXIuZmluZEJ5SWQoZm9sZGVySWQpO1xuICAgIGlmICghZm9sZGVyKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkZvbGRlciBub3QgZm91bmRcIiB9LFxuICAgICAgICB7IHN0YXR1czogNDA0IH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgZm9sZGVyIGhhcyBjaGlsZCBmb2xkZXJzXG4gICAgY29uc3QgY2hpbGRGb2xkZXJzID0gYXdhaXQgRm9sZGVyLmZpbmQoeyBwYXJlbnRJZDogZm9sZGVySWQgfSk7XG4gICAgaWYgKGNoaWxkRm9sZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjpcbiAgICAgICAgICAgIFwiQ2Fubm90IGRlbGV0ZSBmb2xkZXIgdGhhdCBjb250YWlucyBzdWJmb2xkZXJzLiBQbGVhc2UgZGVsZXRlIHN1YmZvbGRlcnMgZmlyc3QuXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBmb2xkZXIgaGFzIGRvY3VtZW50c1xuICAgIGNvbnN0IGRvY3VtZW50cyA9IGF3YWl0IERvY3VtZW50LmZpbmQoeyBmb2xkZXJJZDogZm9sZGVySWQgfSk7XG4gICAgaWYgKGRvY3VtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjpcbiAgICAgICAgICAgIFwiQ2Fubm90IGRlbGV0ZSBmb2xkZXIgdGhhdCBjb250YWlucyBkb2N1bWVudHMuIFBsZWFzZSBkZWxldGUgb3IgbW92ZSBkb2N1bWVudHMgZmlyc3QuXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBEZWxldGUgdGhlIGZvbGRlclxuICAgIGF3YWl0IEZvbGRlci5maW5kQnlJZEFuZERlbGV0ZShmb2xkZXJJZCk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6IFwiRm9sZGVyIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5XCIsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkRlbGV0ZSBmb2xkZXIgZXJyb3I6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiTmV4dFJlc3BvbnNlIiwiY29ubmVjdGlvbiIsImNvbm5lY3REQiIsImlzQ29ubmVjdGVkIiwiZGIiLCJjb25uZWN0IiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJJIiwiY29ubmVjdGlvbnMiLCJyZWFkeVN0YXRlIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiZm9sZGVyU2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInRyaW0iLCJwYXJlbnRJZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJkZWZhdWx0IiwicGF0aCIsInVuaXF1ZSIsImxldmVsIiwiTnVtYmVyIiwicGVybWlzc2lvbnMiLCJ1c2VySWQiLCJ1c2VyTmFtZSIsInVzZXJFbWFpbCIsImdyYW50ZWRBdCIsIkRhdGUiLCJub3ciLCJ0aW1lc3RhbXBzIiwiaW5kZXgiLCJGb2xkZXIiLCJtb2RlbHMiLCJtb2RlbCIsImRvY3VtZW50U2NoZW1hIiwib3JpZ2luYWxOYW1lIiwibWltZVR5cGUiLCJzaXplIiwiZm9sZGVySWQiLCJnb29nbGVEcml2ZUlkIiwiZ29vZ2xlRHJpdmVVcmwiLCJjb250ZW50IiwidGFncyIsImNyZWF0ZWRBdCIsIkRvY3VtZW50IiwidmVyaWZ5VG9rZW4iLCJHRVQiLCJyZXF1ZXN0IiwidG9rZW4iLCJjb29raWVzIiwiZ2V0IiwidmFsdWUiLCJ1c2VyIiwiZW1haWwiLCJyb2xlIiwianNvbiIsInN1Y2Nlc3MiLCJzdGF0dXMiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJxdWVyeSIsIiRvciIsIl9pZCIsImNyZWF0ZWRCeSIsImZvbGRlcnMiLCJmaW5kIiwibGVhbiIsIm1hcCIsImYiLCJsZW5ndGgiLCJkYXRhIiwiUE9TVCIsInNhbml0aXplZE5hbWUiLCJyZXBsYWNlIiwicGFyZW50Rm9sZGVyIiwiZmluZEJ5SWQiLCJpbmNsdWRlcyIsImV4aXN0aW5nRm9sZGVyIiwiZmluZE9uZSIsInBhdGhTZWdtZW50cyIsInNwbGl0IiwidW5pcXVlU2VnbWVudHMiLCJTZXQiLCJmb2xkZXIiLCJzYXZlIiwiY29kZSIsIkRFTEVURSIsImNoaWxkRm9sZGVycyIsImRvY3VtZW50cyIsImZpbmRCeUlkQW5kRGVsZXRlIiwibWVzc2FnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/folders/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.js":
/*!*************************!*\
  !*** ./src/lib/auth.js ***!
  \*************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   requireAuth: () => (/* binding */ requireAuth),\n/* harmony export */   requireRole: () => (/* binding */ requireRole),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n\nasync function verifyToken(token) {\n    if (!token) {\n        return null;\n    }\n    try {\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.verify(token, process.env.JWT_SECRET);\n        return decoded;\n    } catch (error) {\n        console.error(\"Token verification error:\", error);\n        return null;\n    }\n}\nfunction requireAuth(handler) {\n    return async (request)=>{\n        const token = request.cookies.get(\"token\")?.value;\n        const user = await verifyToken(token);\n        if (!user) {\n            return new Response(JSON.stringify({\n                success: false,\n                error: \"Unauthorized\"\n            }), {\n                status: 401,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        request.user = user;\n        return handler(request);\n    };\n}\nfunction requireRole(allowedRoles) {\n    return (handler)=>{\n        return async (request)=>{\n            const token = request.cookies.get(\"token\")?.value;\n            const user = await verifyToken(token);\n            if (!user) {\n                return new Response(JSON.stringify({\n                    success: false,\n                    error: \"Unauthorized\"\n                }), {\n                    status: 401,\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n            }\n            if (!allowedRoles.includes(user.role)) {\n                return new Response(JSON.stringify({\n                    success: false,\n                    error: \"Forbidden\"\n                }), {\n                    status: 403,\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n            }\n            request.user = user;\n            return handler(request);\n        };\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2F1dGguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUErQjtBQUV4QixlQUFlQyxZQUFZQyxLQUFLO0lBQ3JDLElBQUksQ0FBQ0EsT0FBTztRQUNWLE9BQU87SUFDVDtJQUVBLElBQUk7UUFDRixNQUFNQyxVQUFVSCxnREFBVSxDQUFDRSxPQUFPRyxRQUFRQyxHQUFHLENBQUNDLFVBQVU7UUFDeEQsT0FBT0o7SUFDVCxFQUFFLE9BQU9LLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsT0FBTztJQUNUO0FBQ0Y7QUFFTyxTQUFTRSxZQUFZQyxPQUFPO0lBQ2pDLE9BQU8sT0FBT0M7UUFDWixNQUFNVixRQUFRVSxRQUFRQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxVQUFVQztRQUM1QyxNQUFNQyxPQUFPLE1BQU1mLFlBQVlDO1FBRS9CLElBQUksQ0FBQ2MsTUFBTTtZQUNULE9BQU8sSUFBSUMsU0FDVEMsS0FBS0MsU0FBUyxDQUFDO2dCQUFFQyxTQUFTO2dCQUFPWixPQUFPO1lBQWUsSUFDdkQ7Z0JBQUVhLFFBQVE7Z0JBQUtDLFNBQVM7b0JBQUUsZ0JBQWdCO2dCQUFtQjtZQUFFO1FBRW5FO1FBRUFWLFFBQVFJLElBQUksR0FBR0E7UUFDZixPQUFPTCxRQUFRQztJQUNqQjtBQUNGO0FBRU8sU0FBU1csWUFBWUMsWUFBWTtJQUN0QyxPQUFPLENBQUNiO1FBQ04sT0FBTyxPQUFPQztZQUNaLE1BQU1WLFFBQVFVLFFBQVFDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFVBQVVDO1lBQzVDLE1BQU1DLE9BQU8sTUFBTWYsWUFBWUM7WUFFL0IsSUFBSSxDQUFDYyxNQUFNO2dCQUNULE9BQU8sSUFBSUMsU0FDVEMsS0FBS0MsU0FBUyxDQUFDO29CQUFFQyxTQUFTO29CQUFPWixPQUFPO2dCQUFlLElBQ3ZEO29CQUFFYSxRQUFRO29CQUFLQyxTQUFTO3dCQUFFLGdCQUFnQjtvQkFBbUI7Z0JBQUU7WUFFbkU7WUFFQSxJQUFJLENBQUNFLGFBQWFDLFFBQVEsQ0FBQ1QsS0FBS1UsSUFBSSxHQUFHO2dCQUNyQyxPQUFPLElBQUlULFNBQ1RDLEtBQUtDLFNBQVMsQ0FBQztvQkFBRUMsU0FBUztvQkFBT1osT0FBTztnQkFBWSxJQUNwRDtvQkFBRWEsUUFBUTtvQkFBS0MsU0FBUzt3QkFBRSxnQkFBZ0I7b0JBQW1CO2dCQUFFO1lBRW5FO1lBRUFWLFFBQVFJLElBQUksR0FBR0E7WUFDZixPQUFPTCxRQUFRQztRQUNqQjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIkU6XFx3ZWJcXERTLTM2MCBQcm9kdWN0c1xcZGF0YWJhc2UtbWFuYWdlbWVudC1zeXN0ZW1cXHNyY1xcbGliXFxhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5VG9rZW4odG9rZW4pIHtcbiAgaWYgKCF0b2tlbikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCk7XG4gICAgcmV0dXJuIGRlY29kZWQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIlRva2VuIHZlcmlmaWNhdGlvbiBlcnJvcjpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1aXJlQXV0aChoYW5kbGVyKSB7XG4gIHJldHVybiBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC5jb29raWVzLmdldChcInRva2VuXCIpPy52YWx1ZTtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdmVyaWZ5VG9rZW4odG9rZW4pO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9KSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSwgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9IH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmVxdWVzdC51c2VyID0gdXNlcjtcbiAgICByZXR1cm4gaGFuZGxlcihyZXF1ZXN0KTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVSb2xlKGFsbG93ZWRSb2xlcykge1xuICByZXR1cm4gKGhhbmRsZXIpID0+IHtcbiAgICByZXR1cm4gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC5jb29raWVzLmdldChcInRva2VuXCIpPy52YWx1ZTtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB2ZXJpZnlUb2tlbih0b2tlbik7XG5cbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0pLFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDEsIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSB9XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICghYWxsb3dlZFJvbGVzLmluY2x1ZGVzKHVzZXIucm9sZSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGb3JiaWRkZW5cIiB9KSxcbiAgICAgICAgICB7IHN0YXR1czogNDAzLCBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0gfVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0LnVzZXIgPSB1c2VyO1xuICAgICAgcmV0dXJuIGhhbmRsZXIocmVxdWVzdCk7XG4gICAgfTtcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJqd3QiLCJ2ZXJpZnlUb2tlbiIsInRva2VuIiwiZGVjb2RlZCIsInZlcmlmeSIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZXJyb3IiLCJjb25zb2xlIiwicmVxdWlyZUF1dGgiLCJoYW5kbGVyIiwicmVxdWVzdCIsImNvb2tpZXMiLCJnZXQiLCJ2YWx1ZSIsInVzZXIiLCJSZXNwb25zZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdWNjZXNzIiwic3RhdHVzIiwiaGVhZGVycyIsInJlcXVpcmVSb2xlIiwiYWxsb3dlZFJvbGVzIiwiaW5jbHVkZXMiLCJyb2xlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/ms","vendor-chunks/semver","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/lodash.once","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ffolders%2Froute&page=%2Fapi%2Ffolders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ffolders%2Froute.js&appDir=E%3A%5Cweb%5CDS-360%20Products%5Cdatabase-management-system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cweb%5CDS-360%20Products%5Cdatabase-management-system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();